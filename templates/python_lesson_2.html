{% extends "base.html" %}

{% block title %}Lekce 2: Tvoje prvnÃ­ kouzelnÃ¡ spirÃ¡la | Python Kurz{% endblock %}

{% block content %}
<div class="lesson-container">
    <!-- LevÃ¡ strana: Instrukce + Ãškoly (40%, scrollovatelnÃ©) -->
    <div class="lesson-content">
        <!-- Breadcrumb navigace -->
        <div class="breadcrumb">
            <a href="/dashboard">Dashboard</a> /
            <a href="/python">Python Kurz</a> /
            <span>Lekce 2</span>
        </div>

        <!-- Header lekce -->
        <div class="lesson-header">
            <h1>ğŸ”„ Lekce 2: Tvoje prvnÃ­ kouzelnÃ¡ spirÃ¡la</h1>
            <div class="lesson-progress">
                <span class="badge badge-intermediate">ZaÄÃ¡teÄnÃ­k+</span>
                <span class="time">â±ï¸ 20 min</span>
            </div>
        </div>

        <!-- Terry motivace -->
        <div class="terry-message">
            <img src="{{ url_for('static', path='/images/terry/pictures/terry-avatar.webp') }}" alt="Terry" class="terry-avatar">
            <div class="message-bubble">
                <p>PamatujeÅ¡ si na ten otravnÃ½ kÃ³d se 4x opakovÃ¡nÃ­m?</p>
                <p><strong>TeÄ se nauÄÃ­Å¡ LOOP - smyÄku!</strong> ğŸ”„</p>
            </div>
        </div>

        <!-- ÃšvodnÃ­ text -->
        <section class="intro-section">
            <h2>Co je Loop?</h2>
            <p class="intro-text">
                Loop = Å™Ã­kÃ¡Å¡ poÄÃ­taÄi: <strong>"UdÄ›lej tohle X-krÃ¡t"</strong>
            </p>
            <p class="intro-text">
                MÃ­sto psanÃ­ stejnÃ©ho kÃ³du znovu a znovu, Python to zopakuje sÃ¡m!
            </p>
        </section>

        <!-- Sekce: PorovnÃ¡nÃ­ PÅ˜ED a PÃ“ -->
        <section class="comparison-section">
            <h2>âŒ PÅ˜ED (otravnÃ©):</h2>

            <div class="code-block bad">
                <pre><code class="language-python"># MusÃ­Å¡ psÃ¡t 4x totÃ©Å¾... ğŸ˜´
turtle.forward(100)
turtle.right(90)
turtle.forward(100)
turtle.right(90)
turtle.forward(100)
turtle.right(90)
turtle.forward(100)
turtle.right(90)</code></pre>
            </div>

            <div class="divider">
                <span class="arrow">â¬‡ï¸</span>
                <span class="magic">âœ¨ MAGIE LOOPU âœ¨</span>
                <span class="arrow">â¬‡ï¸</span>
            </div>

            <h2>âœ… PÃ“ (skvÄ›lÃ©):</h2>

            <div class="code-block good">
                <pre><code class="language-python"># StaÄÃ­ napsat jednou! ğŸ‰
for i in range(4):
    turtle.forward(100)
    turtle.right(90)</code></pre>
            </div>

            <div class="wow-box">
                <h3>ğŸ¤¯ WOW!</h3>
                <p>2 Å™Ã¡dky mÃ­sto 8 Å™Ã¡dkÅ¯!</p>
                <p>A udÄ›lÃ¡ to ÃºplnÄ› to samÃ©!</p>
            </div>
        </section>

        <!-- Sekce: Jak Loop funguje -->
        <section class="learning-section">
            <h2>ğŸ” Jak to funguje?</h2>

            <div class="explanation-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3><code>for i in range(4):</code></h3>
                        <p>Å˜Ã­kÃ¡Å¡: "UdÄ›lej nÃ¡sledujÃ­cÃ­ vÄ›ci 4Ã—"</p>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>OdsazenÃ­ (4 mezery nebo Tab)</h3>
                        <p>VÅ¡echno co mÃ¡ odsazenÃ­ se opakuje!</p>
                        <div class="indent-example">
                            <span class="indent-arrow">â†’</span>
                            <code>turtle.forward(100)</code><br>
                            <span class="indent-arrow">â†’</span>
                            <code>turtle.right(90)</code>
                        </div>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Python to zopakuje sÃ¡m</h3>
                        <p>Python spustÃ­ ten kÃ³d 4Ã— za sebe - ty nemusÃ­Å¡ nic!</p>
                    </div>
                </div>
            </div>

            <div class="explanation-box">
                <h3>ğŸ’¡ ProÄ to funguje?</h3>
                <ul>
                    <li><code>range(4)</code> = ÄÃ­sla od 0 do 3 (celkem 4 ÄÃ­sla)</li>
                    <li><code>for i in</code> = pro kaÅ¾dÃ© ÄÃ­slo v tomto seznamu</li>
                    <li><code>i</code> = promÄ›nnÃ¡, kterÃ¡ obsahuje aktuÃ¡lnÃ­ ÄÃ­slo (0, 1, 2, 3)</li>
                    <li>OdsazenÃ­ Å™Ã­kÃ¡ Pythonu: "Tohle vÅ¡echno opakuj"</li>
                </ul>
            </div>
        </section>

        <!-- Sekce: PrvnÃ­ vÃ½zva - Zkus to! -->
        <section class="challenge-section">
            <div class="challenge-box challenge-green">
                <div class="challenge-header">
                    <span class="challenge-icon">ğŸ’š</span>
                    <h2>VÃZVA 1: Nakresli Ätverec pomocÃ­ loopu</h2>
                </div>

                <div class="challenge-content">
                    <p>PouÅ¾ij to, co ses prÃ¡vÄ› nauÄil!</p>
                    <p>ZkopÃ­ruj tento kÃ³d do Playgroundu a spusÅ¥ ho:</p>

                    <div class="code-block">
                        <pre><code class="language-python">import turtle

for i in range(4):
    turtle.forward(100)
    turtle.right(90)</code></pre>
                    </div>

                    <p class="hint">ğŸ’¡ VÅ¡imni si, Å¾e tÄ›ch 8 Å™Ã¡dkÅ¯ se zmenÅ¡ilo na 4!</p>
                </div>
            </div>
        </section>

        <!-- Sekce: HlavnÃ­ vÃ½zva - SPIRÃLA! -->
        <section class="challenge-section spiral-challenge">
            <div class="challenge-box challenge-purple">
                <div class="challenge-header">
                    <span class="challenge-icon">âœ¨</span>
                    <h2>VÃZVA 2: VytvoÅ™ kouzelnou spirÃ¡lu!</h2>
                </div>

                <div class="challenge-content">
                    <p><strong>TeÄ to bude epickÃ©!</strong> ğŸš€</p>
                    <p>ZkopÃ­ruj tento kÃ³d a sleduj, co se stane:</p>

                    <div class="code-block">
                        <pre><code class="language-python">import turtle
turtle.speed(0)  # super rychlÃ¡ Å¾elva!

for i in range(100):
    turtle.forward(i * 2)
    turtle.right(91)</code></pre>
                    </div>

                    <div class="mystery-box">
                        <h3>ğŸ¤” Co dÄ›lÃ¡ tento kÃ³d?</h3>
                        <ul>
                            <li><code>range(100)</code> = opakuj 100Ã— (ne jen 4Ã—!)</li>
                            <li><code>turtle.speed(0)</code> = maximÃ¡lnÃ­ rychlost (abys nemusel Äekat)</li>
                            <li><code>i * 2</code> = kaÅ¾dÃ¡ ÄÃ¡ra je o kousek delÅ¡Ã­ neÅ¾ pÅ™edchozÃ­!</li>
                            <li><code>right(91)</code> = otoÄenÃ­ o 91Â° (ne 90Â°!) vytvoÅ™Ã­ spirÃ¡lu!</li>
                        </ul>
                    </div>

                    <div class="wow-moment">
                        <h3>ğŸ˜ VÃ½sledek:</h3>
                        <p>UvidÃ­Å¡ nÃ¡dhernou <strong>barevnou spirÃ¡lu</strong>! ğŸ˜</p>
                        <p>Tohle by bez loopu bylo skoro nemoÅ¾nÃ© napsat!</p>
                    </div>

                    <button class="hint-button" onclick="showSpiralVideo()">
                        ğŸ“¹ UkÃ¡zat jak mÃ¡ spirÃ¡la vypadat
                    </button>

                    <div class="preview-box" id="spiral-preview" style="display: none;">
                        <img src="/static/images/examples/spiral-preview.gif" alt="SpirÃ¡la ukÃ¡zka" style="max-width: 100%; border-radius: 12px;">
                    </div>
                </div>
            </div>
        </section>

        <!-- Sekce: Experimentuj! -->
        <section class="experiment-section">
            <h2>ğŸ§ª ÄŒas na experimenty!</h2>

            <div class="experiment-grid">

                <div class="experiment-card">
                    <div class="experiment-icon">ğŸ”„</div>
                    <h3>ZmÄ›Åˆ Ãºhel</h3>
                    <p>Co kdyÅ¾ zmÄ›nÃ­Å¡ <code>right(91)</code> na <code>right(90)</code>?</p>
                    <p class="result">â†’ MÃ­sto spirÃ¡ly dostaneÅ¡ Ätverec!</p>
                </div>

                <div class="experiment-card">
                    <div class="experiment-icon">ğŸ”</div>
                    <h3>ZmÄ›Åˆ dÃ©lku</h3>
                    <p>Co kdyÅ¾ zmÄ›nÃ­Å¡ <code>i * 2</code> na <code>i * 3</code>?</p>
                    <p class="result">â†’ VÄ›tÅ¡Ã­ spirÃ¡la!</p>
                </div>

                <div class="experiment-card">
                    <div class="experiment-icon">ğŸ¨</div>
                    <h3>VÃ­ce opakovÃ¡nÃ­</h3>
                    <p>Co kdyÅ¾ zmÄ›nÃ­Å¡ <code>range(100)</code> na <code>range(200)</code>?</p>
                    <p class="result">â†’ JeÅ¡tÄ› vÃ­ce krÃ¡snÃ¡ spirÃ¡la!</p>
                </div>

                <div class="experiment-card">
                    <div class="experiment-icon">âš¡</div>
                    <h3>Rychlost</h3>
                    <p>Zkus zmÄ›nit <code>speed(0)</code> na <code>speed(1)</code></p>
                    <p class="result">â†’ UvidÃ­Å¡ jak se spirÃ¡la kreslÃ­ pomalu!</p>
                </div>

            </div>

            <div class="try-box">
                <h3>ğŸ‘ Tvoje Ãºkol:</h3>
                <p>Zkus zmÄ›nit ÄÃ­sla a vytvoÅ™it <strong>ÃºplnÄ› vlastnÃ­ spirÃ¡lu</strong>!</p>
                <p>Neexistuje Å¡patnÃ¡ odpovÄ›Ä - experimentuj a bav se!</p>
            </div>
        </section>

        <!-- Sekce: Gratulace (zobrazÃ­ se po dokonÄenÃ­) -->
        <section class="completion-section" id="completion" style="display: none;">
            <div class="success-box">
                <div class="success-animation">
                    <img src="{{ url_for('static', path='/images/terry/pictures/terry-avatar.webp') }}" alt="Terry" width="150">
                </div>

                <h2>ğŸ‰ NeuvÄ›Å™itelnÃ©!</h2>
                <p>VytvoÅ™il jsi svou prvnÃ­ spirÃ¡lu pomocÃ­ loopu!</p>

                <div class="achievement-earned">
                    <div class="badge-icon">ğŸ†</div>
                    <h3>OdznÃ¡k jsi odznÃ¡k:</h3>
                    <p class="badge-name">LOOP MASTER</p>
                </div>

                <div class="insight-box">
                    <h3>ğŸ’¡ Co ses nauÄil:</h3>
                    <ul>
                        <li>âœ… Jak pouÅ¾Ã­vat <code>for</code> loop</li>
                        <li>âœ… ProÄ je odsazenÃ­ dÅ¯leÅ¾itÃ©</li>
                        <li>âœ… Jak vytvoÅ™it spirÃ¡lu</li>
                        <li>âœ… Jak experimentovat s kÃ³dem</li>
                    </ul>
                </div>

                <p class="next-hint">
                    <strong>V pÅ™Ã­Å¡tÃ­ lekci:</strong> PÅ™idÃ¡me <strong>barvy</strong> do spirÃ¡ly! ğŸŒˆ
                </p>

                <button class="next-lesson-btn" onclick="window.location.href='/python-course/lesson-3'">
                    DalÅ¡Ã­ lekce: BarevnÃ¡ spirÃ¡la ğŸŒˆ
                </button>
            </div>
        </section>
    </div>

    <!-- PravÃ¡ strana: Python Playground (60%, fixed) -->
    <div class="playground-panel">
        <div class="playground-container">
            
            <div class="playground-header">
                <h3>ğŸ Python Playground</h3>
                <div class="playground-actions">
                    <button class="btn-icon" onclick="resetCode()" title="Reset kÃ³du">
                        ğŸ”„
                    </button>
                    <button class="btn-icon" onclick="clearOutput()" title="Vymazat vÃ½stup">
                        ğŸ—‘ï¸
                    </button>
                    <button class="btn-icon" onclick="loadSpiralExample()" title="NaÄÃ­st spirÃ¡lu">
                        âœ¨
                    </button>
                </div>
            </div>

            <!-- Editor -->
            <div class="code-editor">
                <textarea id="python-editor" spellcheck="false">import turtle

# Zkus loop!
for i in range(4):
    turtle.forward(100)
    turtle.right(90)</textarea>
            </div>

            <!-- TlaÄÃ­tko spustit -->
            <div class="playground-controls">
                <button class="run-button" onclick="runPythonCode()">
                    â–¶ï¸ Spustit kÃ³d
                </button>
                <span class="status-text" id="status"></span>
            </div>

            <!-- VÃ½stup - canvas pro turtle graphics -->
            <div class="output-container">
                <h4>VÃ½stup:</h4>
                <canvas id="turtle-canvas" width="500" height="400"></canvas>
                <div id="console-output"></div>
            </div>

        </div>
    </div>

</div>

<!-- NavigaÄnÃ­ tlaÄÃ­tka - umÃ­stÄ›nÃ© aÅ¾ na konec -->
<div class="lesson-navigation" style="max-width: 1400px; margin: 2rem auto; padding: 0 1rem;">
    <button class="btn-secondary" onclick="window.location.href='/python-course/lesson-1'">
        â† PÅ™edchozÃ­ lekce
    </button>
    <button class="btn-primary" onclick="completeLesson()">
        DokonÄit lekci âœ“
    </button>
</div>

<!-- JavaScript pro interaktivitu -->
<script src="/static/js/lesson_2.js"></script>
{% endblock %}

